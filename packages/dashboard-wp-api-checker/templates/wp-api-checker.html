<template name="WpApiChecker">
  {{#if WpApiChecker.firstTime}}
    {{> WpApiChecker_Checking}}
  {{else}}
    {{> WpApiChecker_Failed}}
  {{/if}}
</template>

<template name="WpApiChecker_Checking">
  <div class="ui one column stackable center aligned grid container" style="margin-top: 40px;">
    <div class="ui very padded segment">
      <div class="ui header">
        {{#if name}}
          {{_ 'Checking_connection' name=name}}
        {{else}}
          Waiting...
        {{/if}}
      </div>
      {{> WpApiChecker_Loading}}
    </div>
  </div>
</template>

<template name="WpApiChecker_Loading">
  {{#if WpApiChecker.checking}}
    <span class="wp-api-checker-loading">
      <div class="throbber-loader">
        Loading…
      </div>
    </span>
  {{/if}}
</template>

<template name="WpApiChecker_Error">
  {{#if WpApiChecker.error}}
    <div class="ui left pointing red basic label">
      {{_ WpApiChecker.error}}
    </div>
  {{/if}}
</template>


<template name="WpApiChecker_Failed">
  <div class="ui one column stackable container grid">
    <div class="column">
      <div class="ui very padded segment">
        {{> BreadcrumbsTemplate text="Worona Plugin Check"}}

        <div class="ui hidden divider"></div>

        <div class="ui one column center aligned grid">
          <div class="column">
            <h3 class="ui red header">‍
              Ouch, connection failed! :(
            </h3>

            <h3 class="ui grey header">
              ‍It looks like Worona plugin is not working correctly in your WordPress site.
            </h3>

          </div>
        </div>

        <div class="ui horizontal padded divider">
          <div class="ui lightgrey left sub header">
            <div class="content">
              <i class="arrow down icon"></i>
              PLEASE Try the following things
              <i class="arrow down icon"></i>
            </div>
          </div>
        </div>

        <div class="ui one column grid">
          <div class="explanation column">
            <h3 class="header">
              1. Install and activate Worona plugin
            </h3>
            <div class="content">
              <p>Go to your WordPress Dashboard and click on <strong>Plugins‍ -&gt; Add new‍</strong>
              </p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/wodpress-plugins.png">
              <p>Type <strong>worona</strong> in the Search bar</p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/search.png">
              <p>Click on <strong>Install‍</strong>
              </p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/install-worona.png">
              <p>‍<strong>Activate</strong> the plugin‍</p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/activate-worona.png">
              <p>If you have followed all these steps, click here to try again</p>
              <a class="ui teal button" href="#" dispatch="CHECK_WP_API">{{_ 'Try_again'}}</a>
              {{> WpApiChecker_Loading}}
              {{> WpApiChecker_Error}}
            </div>
          </div>
        </div>

        <div class="ui padded divider"></div>

        <div class="ui one column grid">
          <div class="explanation column">
            <h3 class="header">
              2. Check if the url is correct
            </h3>
            <div class="content">
              <p>Your current url is:</p>
              <form class="ui change-url form">
                <div class="two fields">
                  <input class="field" type="url" placeholder="" name="appUrl" value="{{App.url}}">
                </div>
                <div class="ui relaxed list">
                  <div class="item">
                    <i class="large info circle middle aligned icon"></i>
                    <div class="content">
                      <div class="header">
                        If your WordPress is installed in a ‍folder, write it.
                      </div>
                      <div class="description">
                        For example: http://yourblog.com/<strong>folder</strong>
                      </div>
                    </div>
                  </div>
                  <div class="item">
                    <i class="large info circle middle aligned icon"></i>
                    <div class="content">
                      <div class="header">
                        If your WordPress is using SSL, use https.
                      </div>
                      <div class="description">
                        For example: <strong>https://</strong>yourblog.com
                      </div>
                    </div>
                  </div>
                  <div class="item">
                    <i class="large info circle middle aligned icon"></i>
                    <div class="content">
                      <div class="header">
                        If your WordPress redirects to the www subdomain, write it.
                      </div>
                      <div class="description">
                        For example: http://<strong>www</strong>.yourblog.com
                      </div>
                    </div>
                  </div>
                </div>
                <p>If you think the url was wrong and now it is correct, click here to try again</p>
                <input class="ui teal submit button" type="submit" value="{{_ 'Try_again'}}">
                {{> WpApiChecker_Loading}}
                {{> WpApiChecker_Error}}
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="WpApiChecker_Failed2">
  <main class="w-section wrn-main">
    <div class="w-container">
      {{> BreadcrumbsTemplate text="Worona Plugin Check"}}
      <div class="wrn-white-line">
        <div class="wrn-padder center">
          <h3 class="wrn-login-title danger">‍Ouch, connection failed! :(</h3>
          <h3>‍It looks like Worona plugin is not working correctly in your WordPress site.</h3>
          <div class="wrn-small-header dark-grey">‍PLEASE Try the following things</div>
        </div>
      </div>
      <div class="wrn-white-line">
        <div class="wrn-padder">
          <h3>1. Install and activate Worona plugin</h3>
          <div class="wrn-padder-padding">
            <p>Go to your WordPress Dashboard and click on <strong>Plugins‍ -&gt; Add new‍</strong>
            </p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/wodpress-plugins.png">
            <p>Type <strong>worona</strong> in the Search bar</p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/search.png">
            <p>Click on <strong>Install‍</strong>
            </p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/install-worona.png">
            <p>‍<strong>Activate</strong> the plugin‍</p><img class="wrn-padder-image" src="/packages/worona_dashboard-wp-api-checker/images/activate-worona.png">
            <p>If you have followed all these steps, click here to try again</p>
            <a class="w-button wrn-submit" href="#" dispatch="CHECK_WP_API">{{_ 'Try_again'}}</a>
            {{> WpApiChecker_Loading}}
            {{> WpApiChecker_Error}}
          </div>
        </div>
      </div>
      <div class="wrn-white-line">
        <div class="wrn-padder">
          <h3>2. Check if the url is correct</h3>
          <div class="wrn-padder-padding">
            <p>Your current url is:</p>
            <div class="w-form">
              <form id="change-url-and-check">
                <input class="w-input wrn-text-field" id="appUrl" type="url" placeholder="" name="appUrl" value="{{App.url}}">
                <ul class="wrn-unordered">
                  <li>If your WordPress is installed in a ‍folder, write it.
                    <br><span class="wrn-italic-text">For example: http://yourblog.com/<strong>folder</strong></span>
                  </li>
                  <li>If your WordPress is using SSL, use https.
                    <br><span class="wrn-italic-text">For example: <strong>https://</strong>yourblog.com</span>
                  </li>
                  <li>If your WordPress redirects to the www subdomain, write it.
                    <br><span class="wrn-italic-text">For example: http://<strong>www</strong>.yourblog.com</span>
                  </li>
                </ul>
                <p>If you think the url was wrong and now it is correct, click here to try again</p>
                <input class="w-button wrn-submit" type="submit" value="{{_ 'Try_again'}}">
                {{> WpApiChecker_Loading}}
                {{> WpApiChecker_Error}}
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</template>
